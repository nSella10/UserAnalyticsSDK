# =============================================================================
# User Analytics SDK - Production Configuration (AWS Elastic Beanstalk)
# =============================================================================
# This file is used for AWS deployment with environment variables
# For local development, use: --spring.profiles.active=local
# =============================================================================

# Application Information
spring.application.name=User Analytics SDK

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB Atlas Connection (from AWS environment variable)
spring.data.mongodb.uri=${MONGODB_URI}
spring.data.mongodb.auto-index-creation=true

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
server.address=0.0.0.0
server.port=${SERVER_PORT:8080}

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Secret Key (from AWS environment variable)
jwt.secret=${JWT_SECRET}

# =============================================================================
# ACTUATOR & HEALTH CHECKS (for AWS Load Balancer)
# =============================================================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.defaults.enabled=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
logging.level.root=${LOG_LEVEL_ROOT:INFO}
logging.level.com.analytics.user_analytics=${LOG_LEVEL_APP:INFO}
logging.level.org.springframework.data.mongodb=${LOG_LEVEL_MONGODB:WARN}

# =============================================================================
# AWS ELASTIC BEANSTALK COMPATIBILITY
# =============================================================================
spring.autoconfigure.exclude=org.springframework.boot.actuate.autoconfigure.metrics.SystemMetricsAutoConfiguration
