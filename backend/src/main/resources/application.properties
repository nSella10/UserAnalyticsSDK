# Application Name
spring.application.name=User Analytics

# MongoDB Atlas - Connection String (from environment variable)
spring.data.mongodb.uri=${SPRING_DATA_MONGODB_URI:mongodb+srv://noamsell:hlSgD6boVDp7aXV2@analyticscluster.apj3l8t.mongodb.net/user-analytics?retryWrites=true&w=majority&appName=AnalyticsCluster}
spring.data.mongodb.auto-index-creation=true

# Server Configuration
server.address=0.0.0.0
server.port=${PORT:8080}

# JWT Configuration
jwt.secret=${JWT_SECRET:mySecretKey123456789012345678901234567890}

# Actuator Configuration (Health checks for Railway)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.health.defaults.enabled=true

# Logging Configuration (for debugging)
logging.level.com.analytics.user_analytics=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.boot=INFO
logging.level.org.mongodb.driver=DEBUG

# Show startup info
logging.level.org.springframework.boot.autoconfigure=DEBUG
logging.level.org.springframework.context=DEBUG

# Fix Railway Docker container metrics issue - disable problematic auto-configuration
spring.autoconfigure.exclude=org.springframework.boot.actuate.autoconfigure.metrics.SystemMetricsAutoConfiguration
